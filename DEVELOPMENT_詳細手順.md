# ÈñãÁô∫ÊâãÈ†ÜË©≥Á¥∞„Ç¨„Ç§„Éâ

## üéØ „Åì„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„ÅÆ‰Ωø„ÅÑÊñπ

„Åì„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„ÅØÁæéÂÆπÂÆ§ÂïÜÂìÅÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†„ÅÆÈñãÁô∫„ÇíÊÆµÈöéÁöÑ„Å´ÈÄ≤„ÇÅ„Çã„Åü„ÇÅ„ÅÆ„Çπ„ÉÜ„ÉÉ„Éó„Éê„Ç§„Çπ„ÉÜ„ÉÉ„Éó„Ç¨„Ç§„Éâ„Åß„Åô„ÄÇÂêÑ„Çª„ÇØ„Ç∑„Éß„É≥„ÇíÈ†ÜÁï™„Å´ÂÆüË°å„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ

---

## üì¶ Phase 1: Áí∞Â¢ÉÊßãÁØâÔºàDay 1-2Ôºâ

### Step 1.1: ÂøÖË¶Å„ÉÑ„Éº„É´„ÅÆÁ¢∫Ë™ç
```bash
# Node.js „Éê„Éº„Ç∏„Éß„É≥Á¢∫Ë™çÔºà18.17‰ª•‰∏äÂøÖË¶ÅÔºâ
node --version

# GitÁ¢∫Ë™ç
git --version

# Êú™„Ç§„É≥„Çπ„Éà„Éº„É´„ÅÆÂ†¥Âêà
# Node.js: https://nodejs.org/ „Åã„Çâ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
# Git: https://git-scm.com/ „Åã„Çâ„ÉÄ„Ç¶„É≥„É≠„Éº„Éâ
```

### Step 1.2: „Éó„É≠„Ç∏„Çß„ÇØ„Éà‰ΩúÊàê
```bash
# Next.js„Éó„É≠„Ç∏„Çß„ÇØ„Éà‰ΩúÊàê
npx create-next-app@latest beauty-salon-inventory \
  --typescript \
  --tailwind \
  --eslint \
  --app \
  --src-dir \
  --import-alias "@/*"

cd beauty-salon-inventory
```

### Step 1.3: ‰æùÂ≠òÈñ¢‰øÇ„Ç§„É≥„Çπ„Éà„Éº„É´
```bash
# SupabaseÈñ¢ÈÄ£
npm install @supabase/supabase-js @supabase/auth-helpers-nextjs

# Form„ÉªValidation
npm install @hookform/resolvers react-hook-form zod

# StateÁÆ°ÁêÜ„ÉªUtility
npm install zustand date-fns lucide-react

# UI Components
npm install @radix-ui/react-select @radix-ui/react-dialog @radix-ui/react-tabs
npm install recharts class-variance-authority clsx tailwind-merge

# Development
npm install -D @types/node
```

### Step 1.4: shadcn/ui „Çª„ÉÉ„Éà„Ç¢„ÉÉ„Éó
```bash
# ÂàùÊúüÂåñ
npx shadcn-ui@latest init -d

# Âü∫Êú¨„Ç≥„É≥„Éù„Éº„Éç„É≥„ÉàËøΩÂä†
npx shadcn-ui@latest add button
npx shadcn-ui@latest add card
npx shadcn-ui@latest add form
npx shadcn-ui@latest add input
npx shadcn-ui@latest add table
npx shadcn-ui@latest add select
npx shadcn-ui@latest add dialog
npx shadcn-ui@latest add alert
npx shadcn-ui@latest add badge
npx shadcn-ui@latest add tabs
npx shadcn-ui@latest add toast
```

### Step 1.5: „Éó„É≠„Ç∏„Çß„ÇØ„ÉàÊßãÈÄ†Á¢∫Ë™ç
```
beauty-salon-inventory/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/                 # Next.js App Router
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ globals.css
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout.tsx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ page.tsx
‚îÇ   ‚îú‚îÄ‚îÄ components/          # React Components
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ui/             # shadcn/ui components
‚îÇ   ‚îî‚îÄ‚îÄ lib/                # Utilities
‚îÇ       ‚îî‚îÄ‚îÄ utils.ts
‚îú‚îÄ‚îÄ public/
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ tailwind.config.js
```

---

## üóÑÔ∏è Phase 2: SupabaseË®≠ÂÆöÔºàDay 2-3Ôºâ

### Step 2.1: Supabase„Éó„É≠„Ç∏„Çß„ÇØ„Éà‰ΩúÊàê
1. https://supabase.com „Å´„Ç¢„ÇØ„Çª„Çπ
2. "Start your project" „ÇØ„É™„ÉÉ„ÇØ
3. GitHub„Åß„Çµ„Ç§„É≥„Ç¢„ÉÉ„Éó
4. "New project" „Çí‰ΩúÊàê:
   - **Project name**: beauty-salon-inventory
   - **Database password**: Âº∑Âäõ„Å™„Éë„Çπ„ÉØ„Éº„ÉâË®≠ÂÆö
   - **Region**: Northeast Asia (Tokyo)

### Step 2.2: API KeyÂèñÂæó
```bash
# Supabase Dashboard > Settings > API
# ‰ª•‰∏ã„Çí„Ç≥„Éî„Éº:
# - Project URL
# - anon/public key

# .env.local„Éï„Ç°„Ç§„É´‰ΩúÊàê
cat > .env.local << 'EOF'
NEXT_PUBLIC_SUPABASE_URL=https://your-project-id.supabase.co
NEXT_PUBLIC_SUPABASE_ANON_KEY=your-anon-key-here
EOF

# .env.example„ÇÇ‰ΩúÊàêÔºàGitHub„Å´pushÁî®Ôºâ
cat > .env.example << 'EOF'
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
EOF
```

### Step 2.3: „Éá„Éº„Çø„Éô„Éº„Çπ„ÉÜ„Éº„Éñ„É´‰ΩúÊàê
```sql
-- Supabase Dashboard > SQL Editor „Åß‰ª•‰∏ã„ÇíÂÆüË°å

-- 1. Enable UUID extension
CREATE EXTENSION IF NOT EXISTS "uuid-ossp";

-- 2. Â∫óËàó„ÉÜ„Éº„Éñ„É´
CREATE TABLE public.shops (
    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    owner_email VARCHAR(255),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 3. „Éó„É≠„Éï„Ç°„Ç§„É´„ÉÜ„Éº„Éñ„É´
CREATE TABLE public.profiles (
    id UUID REFERENCES auth.users ON DELETE CASCADE PRIMARY KEY,
    shop_id UUID REFERENCES public.shops(id) ON DELETE CASCADE,
    email VARCHAR(255),
    full_name VARCHAR(255),
    role VARCHAR(20) DEFAULT 'staff' CHECK (role IN ('admin', 'staff')),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 4. ÂïÜÂìÅ„Éû„Çπ„Çø„Éº„ÉÜ„Éº„Éñ„É´
CREATE TABLE public.products (
    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
    shop_id UUID REFERENCES public.shops(id) ON DELETE CASCADE NOT NULL,
    name VARCHAR(255) NOT NULL,
    brand VARCHAR(255),
    category VARCHAR(100),
    volume VARCHAR(50),
    unit VARCHAR(20) DEFAULT 'ml',
    purchase_price INTEGER DEFAULT 0,
    selling_price INTEGER DEFAULT 0,
    supplier_name VARCHAR(255),
    notes TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 5. Âú®Â∫´„ÉÜ„Éº„Éñ„É´
CREATE TABLE public.inventory (
    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
    product_id UUID REFERENCES public.products(id) ON DELETE CASCADE NOT NULL,
    current_quantity INTEGER NOT NULL DEFAULT 0,
    expiry_date DATE,
    batch_number VARCHAR(50),
    last_updated_by UUID REFERENCES public.profiles(id),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL,
    updated_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 6. Âú®Â∫´ÂèñÂºïÂ±•Ê≠¥„ÉÜ„Éº„Éñ„É´
CREATE TABLE public.inventory_transactions (
    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
    product_id UUID REFERENCES public.products(id) ON DELETE CASCADE NOT NULL,
    transaction_type VARCHAR(20) NOT NULL CHECK (transaction_type IN ('in', 'out', 'adjustment')),
    quantity INTEGER NOT NULL,
    reason VARCHAR(255),
    notes TEXT,
    performed_by UUID REFERENCES public.profiles(id),
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);

-- 7. „Çµ„Éó„É©„Ç§„É§„Éº„ÉÜ„Éº„Éñ„É´
CREATE TABLE public.suppliers (
    id UUID DEFAULT uuid_generate_v4() PRIMARY KEY,
    shop_id UUID REFERENCES public.shops(id) ON DELETE CASCADE NOT NULL,
    name VARCHAR(255) NOT NULL,
    contact_person VARCHAR(255),
    email VARCHAR(255),
    phone VARCHAR(20),
    address TEXT,
    notes TEXT,
    created_at TIMESTAMP WITH TIME ZONE DEFAULT timezone('utc'::text, now()) NOT NULL
);
```

### Step 2.4: Row Level Security (RLS) Ë®≠ÂÆö
```sql
-- RLSÊúâÂäπÂåñ
ALTER TABLE public.shops ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.profiles ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.products ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.inventory ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.inventory_transactions ENABLE ROW LEVEL SECURITY;
ALTER TABLE public.suppliers ENABLE ROW LEVEL SECURITY;

-- Âü∫Êú¨ÁöÑ„Å™RLS„Éù„É™„Ç∑„Éº
CREATE POLICY "Users can view own shop" ON public.shops FOR ALL USING (
    id IN (SELECT shop_id FROM public.profiles WHERE id = auth.uid())
);

CREATE POLICY "Users can view own profile" ON public.profiles FOR ALL USING (
    id = auth.uid()
);

CREATE POLICY "Users can manage shop products" ON public.products FOR ALL USING (
    shop_id IN (SELECT shop_id FROM public.profiles WHERE id = auth.uid())
);

CREATE POLICY "Users can manage shop inventory" ON public.inventory FOR ALL USING (
    product_id IN (
        SELECT id FROM public.products 
        WHERE shop_id IN (SELECT shop_id FROM public.profiles WHERE id = auth.uid())
    )
);

CREATE POLICY "Users can view shop transactions" ON public.inventory_transactions FOR ALL USING (
    product_id IN (
        SELECT id FROM public.products 
        WHERE shop_id IN (SELECT shop_id FROM public.profiles WHERE id = auth.uid())
    )
);

CREATE POLICY "Users can manage shop suppliers" ON public.suppliers FOR ALL USING (
    shop_id IN (SELECT shop_id FROM public.profiles WHERE id = auth.uid())
);
```

---

## üíª Phase 3: Âü∫Êú¨ÂÆüË£ÖÔºàDay 3-7Ôºâ

### Step 3.1: SupabaseÊé•Á∂ö„Éï„Ç°„Ç§„É´‰ΩúÊàê
```typescript
// src/lib/supabase.ts
import { createClient } from '@supabase/supabase-js'

const supabaseUrl = process.env.NEXT_PUBLIC_SUPABASE_URL!
const supabaseAnonKey = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!

export const supabase = createClient(supabaseUrl, supabaseAnonKey)

// Database types
export interface Database {
  public: {
    Tables: {
      shops: {
        Row: {
          id: string
          name: string
          owner_email: string | null
          created_at: string
          updated_at: string
        }
        Insert: {
          id?: string
          name: string
          owner_email?: string | null
        }
        Update: {
          name?: string
          owner_email?: string | null
        }
      }
      products: {
        Row: {
          id: string
          shop_id: string
          name: string
          brand: string | null
          category: string | null
          volume: string | null
          unit: string | null
          purchase_price: number | null
          selling_price: number | null
          supplier_name: string | null
          notes: string | null
          created_at: string
          updated_at: string
        }
        Insert: {
          shop_id: string
          name: string
          brand?: string | null
          category?: string | null
          volume?: string | null
          unit?: string | null
          purchase_price?: number | null
          selling_price?: number | null
          supplier_name?: string | null
          notes?: string | null
        }
        Update: {
          name?: string
          brand?: string | null
          category?: string | null
          volume?: string | null
          unit?: string | null
          purchase_price?: number | null
          selling_price?: number | null
          supplier_name?: string | null
          notes?: string | null
        }
      }
      inventory: {
        Row: {
          id: string
          product_id: string
          current_quantity: number
          expiry_date: string | null
          batch_number: string | null
          last_updated_by: string | null
          created_at: string
          updated_at: string
        }
        Insert: {
          product_id: string
          current_quantity?: number
          expiry_date?: string | null
          batch_number?: string | null
          last_updated_by?: string | null
        }
        Update: {
          current_quantity?: number
          expiry_date?: string | null
          batch_number?: string | null
          last_updated_by?: string | null
        }
      }
    }
  }
}
```

### Step 3.2: Âü∫Êú¨„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê
```typescript
// src/app/layout.tsx
import './globals.css'
import { Inter } from 'next/font/google'
import { Toaster } from "@/components/ui/toaster"

const inter = Inter({ subsets: ['latin'] })

export const metadata = {
  title: 'Beauty Salon Inventory',
  description: 'ÁæéÂÆπÂÆ§Âú®Â∫´ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†',
}

export default function RootLayout({
  children,
}: {
  children: React.ReactNode
}) {
  return (
    <html lang="ja">
      <body className={inter.className}>
        {children}
        <Toaster />
      </body>
    </html>
  )
}
```

### Step 3.3: Ë™çË®º„Éö„Éº„Ç∏‰ΩúÊàê
```typescript
// src/app/auth/page.tsx
import { AuthForm } from '@/components/auth-form'

export default function AuthPage() {
  return (
    <div className="min-h-screen flex items-center justify-center bg-gray-50">
      <div className="max-w-md w-full space-y-8">
        <div>
          <h2 className="mt-6 text-center text-3xl font-extrabold text-gray-900">
            Beauty Salon Inventory
          </h2>
          <p className="mt-2 text-center text-sm text-gray-600">
            ÁæéÂÆπÂÆ§Âú®Â∫´ÁÆ°ÁêÜ„Ç∑„Çπ„ÉÜ„É†
          </p>
        </div>
        <AuthForm />
      </div>
    </div>
  )
}
```

---

## üìù Á∂ôÁ∂öÁöÑ„Å™ÈÄ≤ÊçóÁÆ°ÁêÜ

### ÊØéÊó•„ÅÆ‰ΩúÊ•≠Ë®òÈå≤
```markdown
## ‰ΩúÊ•≠„É≠„Ç∞

### 2024-08-30
- [x] „Éó„É≠„Ç∏„Çß„ÇØ„Éà‰ΩúÊàêÂÆå‰∫Ü
- [x] SupabaseË®≠ÂÆöÂÆå‰∫Ü
- [ ] Ë™çË®ºÊ©üËÉΩÂÆüË£Ö‰∏≠

### 2024-08-31  
- [ ] Ë™çË®ºÊ©üËÉΩÂÆåÊàê
- [ ] Âü∫Êú¨„É¨„Ç§„Ç¢„Ç¶„Éà‰ΩúÊàê
- [ ] „ÉÄ„ÉÉ„Ç∑„É•„Éú„Éº„ÉâÁîªÈù¢ÁùÄÊâã
```

### ÂïèÈ°å„ÉªËß£Ê±∫Ë®òÈå≤
```markdown
## „Éà„É©„Éñ„É´„Ç∑„É•„Éº„ÉÜ„Ç£„É≥„Ç∞Ë®òÈå≤

### ÂïèÈ°å: SupabaseÊé•Á∂ö„Ç®„É©„Éº
**Êó•‰ªò**: 2024-08-30
**„Ç®„É©„Éº**: Invalid API key
**Ëß£Ê±∫**: .env.local„Éï„Ç°„Ç§„É´„ÅÆÁí∞Â¢ÉÂ§âÊï∞„ÇíÂÜçÁ¢∫Ë™ç
**„É°„É¢**: Áí∞Â¢ÉÂ§âÊï∞„ÅÆÂÄ§„Å´„Çπ„Éö„Éº„Çπ„ÅåÂÖ•„Å£„Å¶„ÅÑ„Åü

### ÂïèÈ°å: TypeScript„Ç®„É©„Éº
**Êó•‰ªò**: 2024-08-31  
**„Ç®„É©„Éº**: Property 'id' does not exist on type
**Ëß£Ê±∫**: DatabaseÂûãÂÆöÁæ©„ÇíÊõ¥Êñ∞
**„É°„É¢**: Supabase„ÅÆÂûãÁîüÊàê„Ç≥„Éû„É≥„Éâ„ÇíÂÆüË°å
```

---

## üîÑ ÂÆöÊúü„É¨„Éì„É•„Éº„ÉªÊåØ„ÇäËøî„Çä

### ÈÄ±Ê¨°„É¨„Éì„É•„ÉºÈ†ÖÁõÆ
- [ ] ‰ªäÈÄ±„ÅÆÁõÆÊ®ôÈÅîÊàêÂ∫¶
- [ ] Áô∫Áîü„Åó„ÅüÂïèÈ°å„Å®Ëß£Ê±∫Á≠ñ
- [ ] Ê¨°ÈÄ±„ÅÆË®àÁîªË™øÊï¥
- [ ] Êñ∞„Åó„ÅèÂ≠¶„Çì„Å†ÊäÄË°ì„ÉªÁü•Ë≠ò
- [ ] ÊîπÂñÑ„Åß„Åç„Çã„Éó„É≠„Çª„Çπ

### ÊäÄË°ìÁöÑË≤†ÂÇµ„ÉÅ„Çß„ÉÉ„ÇØ
- [ ] „Ç≥„Éº„Éâ„ÅÆÂìÅË≥™Á¢∫Ë™ç
- [ ] „ÉÜ„Çπ„Éà„Ç´„Éê„É¨„ÉÉ„Ç∏
- [ ] „Çª„Ç≠„É•„É™„ÉÜ„Ç£Á¢∫Ë™ç
- [ ] „Éë„Éï„Ç©„Éº„Éû„É≥„ÇπÊ∏¨ÂÆö
- [ ] „Éâ„Ç≠„É•„É°„É≥„ÉàÊõ¥Êñ∞

---

**„Åì„ÅÆ„Éâ„Ç≠„É•„É°„É≥„Éà„ÅØÈñãÁô∫„ÅÆÈÄ≤Ë°å„Å´Âêà„Çè„Åõ„Å¶ÈöèÊôÇÊõ¥Êñ∞„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ**